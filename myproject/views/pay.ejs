<!DOCTYPE html>
<html>
<head>
  <title>Pay</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
  <h2>Pay â‚¹500</h2>
  <button id="payBtn">Pay Now</button>

  <script>
    document.getElementById("payBtn").onclick = async function () {
      const res = await fetch("/createOrder", { method: "POST" });
      const order = await res.json();

      const options = {
        key: "<%= key_id %>",
        amount: order.amount,
        currency: "INR",
        name: "PerPage",
        description: "Test Payment",
        order_id: order.id,
        handler: function (response) {
          alert("Payment successful! ID: " + response.razorpay_payment_id);
        }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    };
  </script>
</body>
</html>
